"use client";

import { ComponentPropsWithoutRef, forwardRef, SVGProps } from "react";

import { cn } from "@/utils/cn";

export function AbstractCube(props: SVGProps<SVGSVGElement>) {
    return (
        <svg
            width="377"
            height="375"
            viewBox="0 0 377 375"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            {...props}
        >
            <g opacity="0.05">
                <path
                    d="M60.5225 239.691C60.3365 239.875 60.0641 239.967 59.7851 239.911C59.3494 239.827 59.0624 239.404 59.1448 238.968L74.047 159.979L90.6922 90.7282C90.7866 90.2964 91.229 90.0311 91.6647 90.1261C92.0992 90.2225 92.3755 90.6503 92.2838 91.0847L60.7443 239.285C60.7111 239.445 60.6314 239.582 60.5225 239.691ZM77.7496 151.541L75.6412 160.317L73.7534 170.326L77.7496 151.541Z"
                    fill="#4C4C4C"
                />
                <path
                    d="M190.343 315.725C190.136 315.931 189.825 316.018 189.529 315.927L135.356 299.481C135.258 299.452 135.168 299.404 135.088 299.341L59.4397 239.753C59.1049 239.489 59.0318 239.012 59.2749 238.659C59.4888 238.299 59.9923 238.205 60.3603 238.42L190.181 314.455C190.536 314.662 190.678 315.102 190.512 315.478C190.471 315.572 190.414 315.655 190.343 315.725ZM135.979 297.975L183.431 312.381L69.7185 245.783L135.979 297.975Z"
                    fill="#4C4C4C"
                />
                <path
                    d="M241.373 75.9324C241.244 76.0605 241.074 76.145 240.882 76.1661L91.5719 91.7237C91.1574 91.766 90.7774 91.494 90.6898 91.09C90.6008 90.6872 90.8306 90.274 91.2251 90.1512L186.352 58.158C186.515 58.1025 186.687 58.0998 186.851 58.1487L241.034 74.5843C241.404 74.6966 241.645 75.0543 241.606 75.4359C241.588 75.6287 241.503 75.803 241.373 75.9324ZM98.6809 89.3537L236.719 74.9699L186.628 59.7754L98.6809 89.3537Z"
                    fill="#4C4C4C"
                />
                <path
                    d="M285.487 283.721C285.399 283.808 285.292 283.873 285.171 283.914L190.027 315.918C189.663 316.042 189.261 315.892 189.066 315.564C188.869 315.231 188.945 314.855 189.217 314.552L300.984 213.345C301.25 213.108 301.642 213.067 301.949 213.248C302.257 213.427 302.41 213.788 302.327 214.134L285.703 283.337C285.668 283.483 285.592 283.617 285.487 283.721ZM193.196 313.143L284.221 282.523L300.127 216.315L193.196 313.143Z"
                    fill="#4C4C4C"
                />
                <path
                    d="M302.11 214.518C301.983 214.645 301.813 214.729 301.627 214.75C301.269 214.789 300.929 214.593 300.787 214.27L240.049 75.6839C239.9 75.3458 239.993 74.9577 240.299 74.7174C240.596 74.4903 241.008 74.4929 241.302 74.724L316.952 134.316C317.188 134.504 317.304 134.806 317.246 135.101L302.335 214.094C302.303 214.258 302.223 214.406 302.11 214.518ZM242.846 78.0063L301.22 211.204L315.554 135.283L242.846 78.0063Z"
                    fill="#4C4C4C"
                />
                <path
                    d="M302.11 214.518C301.919 214.708 301.644 214.792 301.377 214.74L162.355 187.524C162.084 187.471 161.859 187.287 161.755 187.031C161.653 186.779 161.685 186.489 161.842 186.264L240.126 74.8946C240.292 74.6609 240.584 74.5236 240.878 74.554C241.169 74.5817 241.424 74.7666 241.542 75.0346L302.28 213.62C302.401 213.896 302.359 214.219 302.17 214.454C302.151 214.477 302.13 214.498 302.11 214.518ZM163.894 186.173L300.164 212.851L240.629 77.0085L163.894 186.173Z"
                    fill="#4C4C4C"
                />
                <path
                    d="M190.344 315.725C190.313 315.755 190.278 315.784 190.243 315.81C189.98 315.997 189.633 316.014 189.352 315.849L59.5316 239.815C59.2766 239.667 59.1211 239.388 59.1304 239.094C59.1437 238.801 59.3111 238.534 59.5728 238.395L162.139 186.007C162.365 185.893 162.634 185.889 162.861 185.996C163.091 186.106 163.257 186.316 163.309 186.56L190.564 314.983C190.624 315.256 190.536 315.534 190.344 315.725ZM61.6347 239.166L188.587 313.52L161.935 187.936L61.6347 239.166Z"
                    fill="#4C4C4C"
                />
                <path
                    d="M302.111 214.518L302.085 214.544L190.317 315.751C190.099 315.947 189.795 316.011 189.518 315.923C189.24 315.834 189.031 315.603 188.97 315.321L161.717 186.896C161.659 186.631 161.741 186.355 161.932 186.16L161.936 186.156C162.128 185.964 162.403 185.881 162.669 185.934L301.691 213.15C301.994 213.208 302.236 213.433 302.321 213.728C302.4 214.01 302.318 214.312 302.111 214.518ZM190.271 313.6L299.789 214.428L163.563 187.76L190.271 313.6Z"
                    fill="#4C4C4C"
                />
                <path
                    d="M163.089 187.302C162.94 187.45 162.737 187.536 162.521 187.538C162.261 187.544 162.013 187.421 161.854 187.208L90.8281 91.3963C90.6567 91.1652 90.6222 90.8563 90.7404 90.5909C90.8613 90.3229 91.1138 90.1407 91.3994 90.1103L240.71 74.5527C241.029 74.521 241.337 74.6742 241.498 74.9475C241.66 75.2195 241.648 75.5641 241.466 75.8242L163.182 187.194C163.154 187.232 163.122 187.269 163.089 187.302ZM92.9856 91.5759L162.496 185.34L239.104 76.3496L92.9856 91.5759Z"
                    fill="#4C4C4C"
                />
                <path
                    d="M163.088 187.302C163.029 187.362 162.962 187.412 162.885 187.452L60.3193 239.84C60.039 239.981 59.7015 239.952 59.4517 239.762C59.202 239.572 59.0837 239.257 59.1475 238.95L90.687 90.7497C90.7561 90.4381 91.0006 90.1951 91.3141 90.1265C91.6276 90.0578 91.9518 90.1793 92.1431 90.4381L163.169 186.25C163.309 186.439 163.361 186.683 163.305 186.913C163.27 187.063 163.195 187.197 163.088 187.302ZM61.0991 237.618L161.288 186.445L91.908 92.853L61.0991 237.618Z"
                    fill="#4C4C4C"
                />
            </g>
        </svg>
    );
}

function RedCircle({ className, ...rest }: ComponentPropsWithoutRef<"div">) {
    return (
        <div
            className={cn("rounded-full bg-primary opacity-10", className)}
            {...rest}
        />
    );
}

type ElementProps = React.HTMLProps<HTMLDivElement>;

export const AnimateCube = forwardRef<HTMLDivElement, ElementProps>(
    ({ className, ...rest }, ref) => {
        return (
            <div
                ref={ref}
                className={cn(
                    "absolute size-[377px] items-center justify-center max-lg:size-56",
                    className,
                )}
                {...rest}
            >
                <AbstractCube className="absolute inset-0 animate-wiggle max-lg:size-56" />
                <RedCircle className="absolute inset-0 m-auto size-1/3 animate-floating" />
            </div>
        );
    },
);

AnimateCube.displayName = "Animate Cube";
